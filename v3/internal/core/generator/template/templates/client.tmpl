// Code generated by prisma-go. DO NOT EDIT.

package client

import (
	"context"
	"database/sql"
	"fmt"

	"github.com/satishbabariya/prisma-go/v3/runtime"
)

// Client is the main Prisma client.
type Client struct {
	db     *sql.DB
	engine *runtime.QueryEngine
}

// NewClient creates a new Prisma client.
func NewClient(db *sql.DB) *Client {
	return &Client{
		db:     db,
		engine: runtime.NewQueryEngine(db),
	}
}

// Close closes the database connection.
func (c *Client) Close() error {
	if c.db != nil {
		return c.db.Close()
	}
	return nil
}

// WithContext returns a client with the given context.
func (c *Client) WithContext(ctx context.Context) *ClientCtx {
	return &ClientCtx{
		client: c,
		ctx:    ctx,
	}
}

// ClientCtx provides query methods with context.
type ClientCtx struct {
	client *Client
	ctx    context.Context
}

{{range $model := .Models}}
// {{$model.Name}} provides access to {{$model.Name}} model queries.
func (c *ClientCtx) {{$model.Name}}() *{{$model.Name}}Query {
	return &{{$model.Name}}Query{
		client: c.client,
		ctx:    c.ctx,
	}
}

// {{$model.Name}}Query provides query methods for {{$model.Name}} model.
type {{$model.Name}}Query struct {
	client *Client
	ctx    context.Context
	where  map[string]interface{}
}

// FindMany finds multiple {{$model.Name}} records.
func (q *{{$model.Name}}Query) FindMany() ([]*{{$model.Name}}, error) {
	// This will be implemented with proper query building
	return nil, fmt.Errorf("FindMany not yet implemented for {{$model.Name}}")
}

// FindFirst finds the first matching {{$model.Name}} record.
func (q *{{$model.Name}}Query) FindFirst() (*{{$model.Name}}, error) {
	// This will be implemented with proper query building
	return nil, fmt.Errorf("FindFirst not yet implemented for {{$model.Name}}")
}

// FindUnique finds a unique {{$model.Name}} record.
func (q *{{$model.Name}}Query) FindUnique() (*{{$model.Name}}, error) {
	// This will be implemented with proper query building
	return nil, fmt.Errorf("FindUnique not yet implemented for {{$model.Name}}")
}

// Create creates a new {{$model.Name}} record.
func (q *{{$model.Name}}Query) Create(data map[string]interface{}) (*{{$model.Name}}, error) {
	// This will be implemented with proper query building
	return nil, fmt.Errorf("Create not yet implemented for {{$model.Name}}")
}

// Update updates {{$model.Name}} records.
func (q *{{$model.Name}}Query) Update(data map[string]interface{}) (*{{$model.Name}}, error) {
	// This will be implemented with proper query building
	return nil, fmt.Errorf("Update not yet implemented for {{$model.Name}}")
}

// Delete deletes {{$model.Name}} records.
func (q *{{$model.Name}}Query) Delete() (*{{$model.Name}}, error) {
	// This will be implemented with proper query building
	return nil, fmt.Errorf("Delete not yet implemented for {{$model.Name}}")
}

// Where adds a where clause to the query.
func (q *{{$model.Name}}Query) Where(conditions map[string]interface{}) *{{$model.Name}}Query {
	q.where = conditions
	return q
}
{{end}}